# Milestone v1.2: Extra Features Batch 2

**Status:** âœ… SHIPPED 2026-01-19
**Phases:** 9-11
**Total Plans:** 5

## Overview

Ranged combat depth through tiered arrows and parry improvements, plus XP economy tightening.

## Phases

### Phase 9: Parry Stun Improvements

**Goal**: Buckler parry creates stronger crowd control
**Depends on**: Nothing (first phase of v1.2)
**Plans**: 1 plan

Plans:
- [x] 09-01: Parry stun range and knockback

**Details:**
Enhanced buckler parry with 3-block stun range (up from 2) and ~1 block knockback on stunned enemies. Uses Vec3 directional knockback calculation with hurtMarked flag for velocity sync.

### Phase 10: XP Economy Restriction

**Goal**: XP orbs only come from combat (mob kills) and experience bottles
**Depends on**: Phase 9
**Plans**: 1 plan

Plans:
- [x] 10-01: XP spawn blocking system

**Details:**
Five mixins block all passive XP sources:
- BlockXpMixin: Ore mining via popExperience HEAD cancellation
- AnimalBreedingXpMixin: Breeding via ExperienceOrb.award redirect
- FishingXpMixin: Fishing via ExperienceOrb.award redirect
- VillagerTradeXpMixin: Trading via rewardTradeXp HEAD cancellation
- FurnaceXpMixin: Smelting via ExperienceOrb.award redirect

### Phase 11: Tiered Arrows

**Goal**: Ranged combat has progression through tiered arrow damage
**Depends on**: Phase 10
**Plans**: 3 plans

Plans:
- [x] 11-01: Flint arrow rename and texture
- [x] 11-02: Tiered arrow items and recipes
- [x] 11-03: Arrow damage modification

**Details:**
Vanilla arrow renamed to "Flint Arrow" via translation and model override. Three new tiered arrows added:
- Iron Arrow: +1 damage, 1 level cost
- Diamond Arrow: +2 damage, 2 level cost
- Netherite Arrow: +3 damage, 3 level cost

Anvil crafting: 64 flint arrows + material = 64 tiered arrows. Uses TieredArrowItem class with AbstractArrowAccessor mixin for baseDamage modification.

---

## Milestone Summary

**Key Decisions:**
- Vec3 directional knockback with hurtMarked for velocity sync (Phase 9)
- HEAD cancellation for method-level XP blocking (Phase 10)
- @Redirect for ExperienceOrb.award interception (Phase 10)
- Accessor mixin pattern for private baseDamage field (Phase 11)
- Anvil recipe interception via createResult HEAD injection (Phase 11)

**Issues Resolved:**
- AbstractArrow package path changed in 1.21.11 (fixed import paths)
- baseDamage field is private (created accessor mixin)
- hasImpulse not accessible on Mob type (used hurtMarked instead)

**Issues Deferred:**
None

**Technical Debt Incurred:**
None

---

_For current project status, see .planning/PROJECT.md_
