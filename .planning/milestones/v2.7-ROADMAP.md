# Milestone v2.7: Extra Features Batch 11

**Status:** ✅ SHIPPED 2026-01-30
**Phases:** 62-65
**Total Plans:** 5

## Overview

Quality-of-life fixes, combat balancing adjustments, food economy expansion with dough crafting system, and enchantment compatibility improvements allowing protection/damage enchantment stacking.

## Phases

### Phase 62: QoL Fixes

**Goal:** Fix annoyances and restore expected behaviors across mining fatigue, poise meter display, bell mechanics, and XP bottles
**Depends on:** None (independent fixes)
**Requirements:** QOL-01, QOL-02, QOL-03, QOL-04
**Plans:** 1 plan

Plans:
- [x] 62-01-PLAN.md — Mining fatigue cap, poise meter scaling, bell ringing, XP bottles

**Success Criteria:**
1. Mining fatigue caps at level 10 regardless of time spent outside base
2. Poise meter icons appear smaller with visible spacing between them
3. Bells ring normally after land plot book has been obtained
4. Experience bottles grant XP when thrown (restored from XP economy blocking)

**Details:**
- QOL-01: Cap mining fatigue amplifier at 9 (displays as level 10)
- QOL-02: Scale poise icons ~7-10% smaller, add spacing between icons
- QOL-03: Bell ringing behavior always active (first-ring-only restriction was for land plot drop)
- QOL-04: Whitelist experience bottles in XP economy blocking logic

---

### Phase 63: Combat Balancing

**Goal:** Adjust arrow economy and enemy arrow damage to improve combat pacing
**Depends on:** None (independent balance changes)
**Requirements:** CMBT-01, CMBT-02, CMBT-03
**Plans:** 1 plan

Plans:
- [x] 63-01-PLAN.md — Arrow recipe yield increase and enemy arrow damage reduction

**Success Criteria:**
1. Crafting arrows yields 16 arrows per craft (4x vanilla yield)
2. Pillager arrows deal noticeably less damage (3-5 range vs 5-7)
3. Stray arrows deal noticeably less damage (2-4 range vs 4-8)

**Details:**
- CMBT-01: Override vanilla arrow recipe to yield 16
- CMBT-02: Reduce pillager bow damage via projectile damage modifier
- CMBT-03: Reduce stray bow damage via projectile damage modifier

---

### Phase 64: Food Economy - Dough System

**Goal:** Replace instant bread crafting with a cooking-based dough system and normalize leather drops across animals
**Depends on:** 52-copper-buckets (bucket preservation pattern)
**Requirements:** FOOD-01, FOOD-02, FOOD-03, FOOD-04, FOOD-05
**Plans:** 2 plans

Plans:
- [x] 64-01-PLAN.md — Dough item, recipes, and bread recipe removal
- [x] 64-02-PLAN.md — Leather drops for pigs and sheep

**Success Criteria:**
1. Bread cannot be crafted directly from wheat
2. Dough item exists and is craftable from 3 wheat + water bucket (copper or iron)
3. Dough smelts into bread in furnace/smoker
4. Pigs drop leather at same rate as cows
5. Sheep drop leather at same rate as cows

**Details:**
- FOOD-01: Add bread recipe to REMOVED_RECIPE_PATHS
- FOOD-02: New dough item with custom texture, shapeless recipe preserving bucket
- FOOD-03: Furnace/smoker recipe: dough -> bread
- FOOD-04: Override pig loot table to include leather drops (0-2, +1 per looting)
- FOOD-05: Override sheep loot table to include leather drops (0-2, +1 per looting)

---

### Phase 65: Enchantment Compatibility

**Goal:** Allow protection and damage enchantments to stack on the same gear
**Depends on:** 53-enchantment-system (enchantment enforcement patterns)
**Requirements:** ENCH-01, ENCH-02
**Plans:** 1 plan

Plans:
- [x] 65-01-PLAN.md — Enchantment exclusive set tag overrides

**Success Criteria:**
1. Player can apply blast protection + fire protection + projectile protection + protection all on same armor piece
2. Player can apply smite + sharpness + bane of arthropods all on same weapon
3. All stacked enchantments apply their effects simultaneously

**Details:**
- ENCH-01: Remove mutual exclusivity between protection, blast_protection, fire_protection, projectile_protection
- ENCH-02: Remove mutual exclusivity between sharpness, smite, bane_of_arthropods
- Implementation: Data-driven tag overrides (armor.json, damage.json) with `replace: true` and empty values

---

## Progress

| Phase | Name | Requirements | Plans | Status |
|-------|------|--------------|-------|--------|
| 62 | QoL Fixes | QOL-01, QOL-02, QOL-03, QOL-04 | 1/1 | Complete |
| 63 | Combat Balancing | CMBT-01, CMBT-02, CMBT-03 | 1/1 | Complete |
| 64 | Food Economy | FOOD-01, FOOD-02, FOOD-03, FOOD-04, FOOD-05 | 2/2 | Complete |
| 65 | Enchantment Compatibility | ENCH-01, ENCH-02 | 1/1 | Complete |

**Total:** 4 phases, 5 plans, 14 requirements mapped

---

## Milestone Summary

**Decimal Phases:** None

**Key Decisions:**

| ID | Decision | Rationale |
|----|----------|-----------|
| QOL-FATIGUE-01 | Cap mining fatigue at amplifier 9 (level 10) | Prevents extreme slowdown while maintaining penalty |
| QOL-BELL-01 | Use InteractionResult.PASS instead of SUCCESS | Allows vanilla bell ringing to continue after our handler |
| QOL-POISE-01 | 0.92f scale with 9px spacing | ~8% smaller icons with visible gaps between them |
| CMBT-ARROW-01 | Arrow recipe yields 16 (4x vanilla) | Improves arrow economy for ranged combat engagement |
| CMBT-PILLAGER-02 | Pillager arrow damage 0.667x | Reduces 5-7 to 3-5, less frustrating encounters |
| CMBT-STRAY-01 | Stray arrow damage 0.5x | Reduces 4-8 to 2-4, significant reduction for skeleton variant |
| FOOD-DOUGH-01 | Dough requires water bucket (iron or copper) not just wheat | Adds processing step to bread creation |
| FOOD-LEATHER-01 | Leather pool as first pool in pig/sheep loot tables | Consistency with cow.json structure |
| ENCH-STACK-01 | Data-driven tag override vs mixin approach | Tag override is simpler, no code required |
| ENCH-DAMAGE-01 | Empty entire damage exclusive set including impaling/density/breach | Impaling/density in REMOVED_ENCHANTMENTS; breach stacking consistent |

**Issues Resolved:**

- Mining fatigue could grow unbounded, causing extreme slowdown after extended exploration
- Bell ringing blocked after land plot obtained (SUCCESS blocked vanilla handler)
- Poise icons too large and crowded
- Arrow economy too tight for ranged playstyle
- Pillager and Stray arrow damage too punishing
- Bread too easy to craft (no processing step)
- Leather only from cows (limited farming options)
- Protection enchantments mutually exclusive (couldn't stack specializations)
- Damage enchantments mutually exclusive (couldn't combine for specific threats)

**Issues Deferred:** None

**Technical Debt Incurred:** None

---

_For current project status, see .planning/ROADMAP.md_
