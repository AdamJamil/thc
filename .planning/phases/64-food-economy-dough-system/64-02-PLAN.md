---
phase: 64-food-economy-dough-system
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - data/minecraft/loot_table/entities/pig.json
  - data/minecraft/loot_table/entities/sheep.json
autonomous: true

must_haves:
  truths:
    - "Pigs drop 0-2 leather when killed"
    - "Pigs drop +1 leather per looting level"
    - "Sheep drop 0-2 leather when killed"
    - "Sheep drop +1 leather per looting level"
    - "Sheep continue to drop wool (all colors) and mutton"
    - "Leather drop rates match cow leather rates exactly"
  artifacts:
    - path: "data/minecraft/loot_table/entities/pig.json"
      provides: "Pig loot table with leather pool"
      contains: "minecraft:leather"
    - path: "data/minecraft/loot_table/entities/sheep.json"
      provides: "Sheep loot table with leather pool"
      contains: "minecraft:leather"
  key_links:
    - from: "pig.json leather pool"
      to: "cow.json leather pool"
      via: "identical structure (0-2 base, +1 looting)"
    - from: "sheep.json"
      to: "existing wool pools"
      via: "wool color alternatives preserved"
---

<objective>
Add leather drops to pigs and sheep matching cow drop rates (0-2 base, +1 per looting level).

Purpose: Normalize leather availability across farm animals so players have more leather sources, reducing reliance on cows only.
Output: Updated pig and sheep loot tables with leather drops alongside existing drops.
</objective>

<execution_context>
@/home/tack/.claude/get-shit-done/workflows/execute-plan.md
@/home/tack/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/64-food-economy-dough-system/64-CONTEXT.md
@.planning/phases/64-food-economy-dough-system/64-RESEARCH.md
@data/minecraft/loot_table/entities/cow.json
@data/minecraft/loot_table/entities/pig.json
@data/minecraft/loot_table/entities/sheep.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add leather drops to pig loot table</name>
  <files>data/minecraft/loot_table/entities/pig.json</files>
  <action>
Add a new leather pool to pig.json, inserting it as the first pool (before the porkchop pool).

The leather pool should be an exact copy of the cow.json leather pool:
```json
{
  "bonus_rolls": 0.0,
  "entries": [
    {
      "type": "minecraft:item",
      "functions": [
        {
          "add": false,
          "count": {
            "type": "minecraft:uniform",
            "max": 2.0,
            "min": 0.0
          },
          "function": "minecraft:set_count"
        },
        {
          "count": {
            "type": "minecraft:uniform",
            "max": 1.0,
            "min": 0.0
          },
          "enchantment": "minecraft:looting",
          "function": "minecraft:enchanted_count_increase"
        }
      ],
      "name": "minecraft:leather"
    }
  ],
  "rolls": 1.0
}
```

The resulting pig.json should have 2 pools:
1. Leather pool (new)
2. Porkchop pool (existing, unchanged)

Preserve the random_sequence at the end.
  </action>
  <verify>Run `./gradlew build` - should compile without errors; JSON validation passes</verify>
  <done>
    - pig.json contains leather pool with 0-2 base count
    - Looting enchantment adds 0-1 per level
    - Porkchop drops unchanged
  </done>
</task>

<task type="auto">
  <name>Task 2: Add leather drops to sheep loot table</name>
  <files>data/minecraft/loot_table/entities/sheep.json</files>
  <action>
Add a new leather pool to sheep.json, inserting it as the first pool (before mutton and wool pools).

The leather pool should be an exact copy of the cow.json leather pool:
```json
{
  "bonus_rolls": 0.0,
  "entries": [
    {
      "type": "minecraft:item",
      "functions": [
        {
          "add": false,
          "count": {
            "type": "minecraft:uniform",
            "max": 2.0,
            "min": 0.0
          },
          "function": "minecraft:set_count"
        },
        {
          "count": {
            "type": "minecraft:uniform",
            "max": 1.0,
            "min": 0.0
          },
          "enchantment": "minecraft:looting",
          "function": "minecraft:enchanted_count_increase"
        }
      ],
      "name": "minecraft:leather"
    }
  ],
  "rolls": 1.0
}
```

IMPORTANT: Do NOT modify the existing mutton pool or wool color alternatives pool. Only add the leather pool as a new pool at the beginning of the pools array.

The resulting sheep.json should have 3 pools:
1. Leather pool (new)
2. Mutton pool (existing, unchanged)
3. Wool color alternatives pool (existing, unchanged - all 16 colors)

Preserve the random_sequence at the end.
  </action>
  <verify>Run `./gradlew build` - should compile without errors; JSON validation passes</verify>
  <done>
    - sheep.json contains leather pool with 0-2 base count
    - Looting enchantment adds 0-1 per level
    - Mutton drops unchanged
    - Wool drops unchanged (all 16 colors work correctly)
  </done>
</task>

</tasks>

<verification>
1. Build succeeds: `./gradlew build`
2. pig.json contains "minecraft:leather" entry
3. sheep.json contains "minecraft:leather" entry
4. sheep.json still contains all 16 wool color alternatives
</verification>

<success_criteria>
- FOOD-04: Pigs drop leather at cow rates (0-2 base, +1 per looting)
- FOOD-05: Sheep drop leather at cow rates (0-2 base, +1 per looting) alongside wool and mutton
</success_criteria>

<output>
After completion, create `.planning/phases/64-food-economy-dough-system/64-02-SUMMARY.md`
</output>
