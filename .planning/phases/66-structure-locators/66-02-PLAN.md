---
phase: 66-structure-locators
plan: 02
type: execute
wave: 2
depends_on: [66-01]
files_modified:
  - src/main/resources/assets/thc/items/fortress_locator.json
  - src/main/resources/assets/thc/items/bastion_locator.json
  - src/main/resources/assets/thc/items/trial_chamber_locator.json
  - src/main/resources/assets/thc/items/pillager_outpost_locator.json
  - src/main/resources/assets/thc/items/ancient_city_locator.json
  - src/main/resources/assets/thc/items/stronghold_locator.json
  - src/main/resources/assets/thc/models/item/ (96 model files)
  - src/main/resources/assets/thc/textures/item/ (96 texture files)
  - src/main/resources/assets/thc/lang/en_us.json
autonomous: true

must_haves:
  truths:
    - "Each locator has item model definition with range_dispatch compass property"
    - "16 directional models exist per locator (96 total)"
    - "16 textures exist per locator (96 total)"
    - "Lang file has translations for all 6 locators"
  artifacts:
    - path: "src/main/resources/assets/thc/items/fortress_locator.json"
      provides: "Compass range_dispatch model definition"
      contains: "range_dispatch"
    - path: "src/main/resources/assets/thc/models/item/fortress_locator_00.json"
      provides: "Base directional model"
      contains: "parent"
    - path: "src/main/resources/assets/thc/lang/en_us.json"
      provides: "Locator translations"
      contains: "fortress_locator"
  key_links:
    - from: "items/*.json"
      to: "models/item/*_NN.json"
      via: "range_dispatch entries"
      pattern: "thc:item/.*_\\d\\d"
    - from: "models/item/*_NN.json"
      to: "textures/item/*_NN.png"
      via: "layer0 texture reference"
      pattern: "thc:item/.*_\\d\\d"
---

<objective>
Create all asset files for 6 structure locators: item model definitions, directional models, textures, and translations.

Purpose: Provides the visual compass behavior. The range_dispatch property reads lodestone_tracker and selects appropriate directional texture based on angle to target.

Output: 6 item definitions, 96 models, 96 textures, 6 lang entries
</objective>

<execution_context>
@/home/tack/.claude/get-shit-done/workflows/execute-plan.md
@/home/tack/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/66-structure-locators/66-RESEARCH.md
@.planning/phases/66-structure-locators/66-01-SUMMARY.md
@src/main/resources/assets/thc/items/iron_boat.json
@src/main/resources/assets/thc/models/item/iron_boat.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create item model definitions with range_dispatch</name>
  <files>
src/main/resources/assets/thc/items/fortress_locator.json
src/main/resources/assets/thc/items/bastion_locator.json
src/main/resources/assets/thc/items/trial_chamber_locator.json
src/main/resources/assets/thc/items/pillager_outpost_locator.json
src/main/resources/assets/thc/items/ancient_city_locator.json
src/main/resources/assets/thc/items/stronghold_locator.json
  </files>
  <action>
Create 6 item model definition files in assets/thc/items/. Each uses range_dispatch with compass property.

Template for each (replace LOCATOR_NAME):
```json
{
  "model": {
    "type": "minecraft:range_dispatch",
    "property": "minecraft:compass",
    "target": "lodestone",
    "wobble": true,
    "scale": 1.0,
    "fallback": {
      "type": "minecraft:model",
      "model": "thc:item/LOCATOR_NAME_00"
    },
    "entries": [
      { "threshold": 0.0, "model": { "type": "minecraft:model", "model": "thc:item/LOCATOR_NAME_00" } },
      { "threshold": 0.0625, "model": { "type": "minecraft:model", "model": "thc:item/LOCATOR_NAME_01" } },
      { "threshold": 0.125, "model": { "type": "minecraft:model", "model": "thc:item/LOCATOR_NAME_02" } },
      { "threshold": 0.1875, "model": { "type": "minecraft:model", "model": "thc:item/LOCATOR_NAME_03" } },
      { "threshold": 0.25, "model": { "type": "minecraft:model", "model": "thc:item/LOCATOR_NAME_04" } },
      { "threshold": 0.3125, "model": { "type": "minecraft:model", "model": "thc:item/LOCATOR_NAME_05" } },
      { "threshold": 0.375, "model": { "type": "minecraft:model", "model": "thc:item/LOCATOR_NAME_06" } },
      { "threshold": 0.4375, "model": { "type": "minecraft:model", "model": "thc:item/LOCATOR_NAME_07" } },
      { "threshold": 0.5, "model": { "type": "minecraft:model", "model": "thc:item/LOCATOR_NAME_08" } },
      { "threshold": 0.5625, "model": { "type": "minecraft:model", "model": "thc:item/LOCATOR_NAME_09" } },
      { "threshold": 0.625, "model": { "type": "minecraft:model", "model": "thc:item/LOCATOR_NAME_10" } },
      { "threshold": 0.6875, "model": { "type": "minecraft:model", "model": "thc:item/LOCATOR_NAME_11" } },
      { "threshold": 0.75, "model": { "type": "minecraft:model", "model": "thc:item/LOCATOR_NAME_12" } },
      { "threshold": 0.8125, "model": { "type": "minecraft:model", "model": "thc:item/LOCATOR_NAME_13" } },
      { "threshold": 0.875, "model": { "type": "minecraft:model", "model": "thc:item/LOCATOR_NAME_14" } },
      { "threshold": 0.9375, "model": { "type": "minecraft:model", "model": "thc:item/LOCATOR_NAME_15" } }
    ]
  }
}
```

Create for: fortress_locator, bastion_locator, trial_chamber_locator, pillager_outpost_locator, ancient_city_locator, stronghold_locator
  </action>
  <verify>All 6 JSON files exist in items/ directory</verify>
  <done>6 item model definitions with proper range_dispatch structure</done>
</task>

<task type="auto">
  <name>Task 2: Create directional models and textures</name>
  <files>
src/main/resources/assets/thc/models/item/ (96 files)
src/main/resources/assets/thc/textures/item/ (96 files)
  </files>
  <action>
Create 16 model files and 16 texture files for each of 6 locators.

For each locator type (fortress, bastion, trial_chamber, pillager_outpost, ancient_city, stronghold):
1. Create models: {name}_locator_00.json through {name}_locator_15.json
2. Create textures: {name}_locator_00.png through {name}_locator_15.png

Model template (all 16 are identical except texture reference):
```json
{
  "parent": "minecraft:item/generated",
  "textures": {
    "layer0": "thc:item/LOCATOR_NAME_NN"
  }
}
```

For textures, create 16x16 PNG compass-style textures:
- Design a simple compass base (colored circle) with a needle
- Rotate needle 22.5 degrees for each of 16 positions (360/16 = 22.5)
- Each locator type should have a distinct color:
  - fortress_locator: dark red/maroon (Nether theme)
  - bastion_locator: gold/yellow (Piglin theme)
  - trial_chamber_locator: copper/orange (Trial chamber copper theme)
  - pillager_outpost_locator: gray/dark (Pillager theme)
  - ancient_city_locator: cyan/dark blue (Deep Dark theme)
  - stronghold_locator: purple/end stone (End theme)

Texture creation approach:
- Can use simple geometric shapes (compass circle with pointed needle)
- Needle should clearly point in different directions
- Keep similar to vanilla compass style for recognizability

Total files: 96 models + 96 textures = 192 files
  </action>
  <verify>ls -la shows 96 model files and 96 texture files</verify>
  <done>All directional models and textures exist for all 6 locators</done>
</task>

<task type="auto">
  <name>Task 3: Add lang translations</name>
  <files>src/main/resources/assets/thc/lang/en_us.json</files>
  <action>
Add 6 translations to en_us.json for the locator items:

"item.thc.fortress_locator": "Fortress Locator",
"item.thc.bastion_locator": "Bastion Locator",
"item.thc.trial_chamber_locator": "Trial Chamber Locator",
"item.thc.pillager_outpost_locator": "Outpost Locator",
"item.thc.ancient_city_locator": "Ancient City Locator",
"item.thc.stronghold_locator": "Stronghold Locator"
  </action>
  <verify>grep locator en_us.json shows 6 entries</verify>
  <done>All 6 locator items have display names</done>
</task>

</tasks>

<verification>
1. `./gradlew build` succeeds
2. All 6 items/*.json files exist with range_dispatch structure
3. All 96 models/item/*_NN.json files exist
4. All 96 textures/item/*_NN.png files exist
5. en_us.json contains 6 locator translations
6. In-game: locators show in creative tab with proper names
7. In-game: compass needle rotates when pointing at structure
</verification>

<success_criteria>
- All asset files created (6 item defs, 96 models, 96 textures)
- Lang translations added
- Build succeeds
- Locators display correctly in inventory
- Compass needle animation works (points to structures)
</success_criteria>

<output>
After completion, create `.planning/phases/66-structure-locators/66-02-SUMMARY.md`
</output>
